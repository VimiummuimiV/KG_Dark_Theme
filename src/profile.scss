@import "variables";

// PROFILE ROOT
// Report dialog
#popconfirm-content {
  textarea {
    min-width: 500px !important;
    border: 1px solid $middlegray !important;
    background: $deepgray !important;
  }
}

// Report up
.stdpopup.popup_message {
  .content2 {
    top: -150px !important;
  }
}

// Dropdown menu styling
.dropdown-menu {
  > li {
    > a {
      color: $white !important;
      background: $darkgray !important;

      &:hover {
        background: $blue !important;
        color: $deepgray !important;
      }
    }
  }
}

// Profile everything form insert smiles button && preview button
.btn-smilies-insert {
  background: none !important;
  color: $white !important;

  &:hover {
    background: none !important;
    color: $blue !important;
  }
}

.preview-change {
  background: none !important;
  color: $white !important;

  &:hover {
    background: none !important;
    color: $blue !important;
  }
}

// Profile root styles
#content .profile-root {
  // Online user mark
  .online {
    color: lightgreen !important;
    background-color: #90ee90a0 !important;
  }

  // Profile achievements under the bio block
  .trophy {
    .item {
      .dummy {
        background: $darkgray !important;
        border: 1px solid $middlegray !important;

        &:hover {
          background: $deepgray !important;
          border: 1px solid $blue !important;
        }

        &::after {
          color: $middlegray !important;
        }

        &:hover::after {
          color: $blue !important;
        }
      }
    }
  }

  // Remove the profile bio block text that pushes to the edit form
  #profile-index {
    .bio {
      .content {
        .clickable {
          span {
            display: none !important;
          }
        }
        background: $darkgray !important;
        border: 1px solid $middlegray !important;

        &:hover {
          border: 1px solid $blue !important;
        }
      }
    }

    // Remove border near the blocks
    .stats {
      position: fixed !important;
      width: 185px !important;
      border: none !important;

      h3 {
        display: none !important;
      }

      .content {
        .stats-block {
          border-radius: 0 !important;
          background-color: $blue;
          margin: 0 !important;
          border: none !important;

          .title {
            color: $darkgray !important;
          }

          .stats-content {
            background-color: $darkgray !important;
            border: none !important;
            color: $blue !important;

            &.clickable:hover {
              background-color: $deepgray !important;
              color: $blue !important;
            }
          }
        }
      }
    }
  }

  // Edit profile bio block
  .profile-edit-bio {
    form {
      background-color: $darkgray !important;
      border: 1px solid $middlegray !important;
    }
  }

  // Usernames history popup
  .profile-header {
    background: $darkgray !important;
    border-bottom: 1px solid $middlegray !important;

    // Avoid default white background for the car block
    .car {
      background: $darkgray !important;
    }

    .username {
      .history {
        .history-popup {
          background-color: $deepgray !important;
          border: 1px solid $blue !important;
          top: 30px !important;
          left: unset !important;
          right: 5px !important;
          color: $blue !important;

          ul {
            padding: 4px 0 !important;

            li {
              color: $white !important;
              padding-top: unset !important;
            }
          }
        }

        .caret {
          background: $deepgray !important;
          height: 15px !important;
          width: 15px !important;
          border-radius: 50% !important;
          position: relative !important;
          top: -4px !important;
          border: 2px solid $blue !important;
          transition: background 0.2s !important;

          &:hover {
            background: $blue !important;
            transition: background 0.2s !important;
          }
        }
      }

      .name {
        color: $orange !important;
      }
    }

    .mini-nav {
      display: none !important;
      opacity: 0 !important;
    }
  }

  // Friends navigation buttons
  .profile-content .nav-top {
    border-bottom: none !important;

    // Base styles for all links
    a {
      color: $blue !important;
      background-color: $darkgray !important;
      border: 1px solid $blue !important;

      &:hover,
      &:focus {
        color: $deepgray !important;
        background-color: $blue !important;
        border: 1px solid transparent !important;
      }
    }

    // Active state overrides
    .active a {
      color: $deepgray !important;
      background-color: $blue !important;
      border: 1px solid transparent !important;

      &:hover,
      &:focus {
        color: $deepgray !important;
        background-color: $blue !important;
        border: 1px solid transparent !important;
      }
    }
  }

  // Journal block
  .journal {
    .write {
      .placeholder {
        background: $darkgray !important;
        border: none !important;
      }
      background: $darkgray !important;
      border: 1px solid $middlegray !important;
    }

    .post {
      border: none !important;

      &.post-hidden {
        background-color: $darkgray !important;
        border: none !important;
      }

      .content {
        .author {
          a {
            color: $blue !important;

            &:hover {
              color: $lightblue !important;
            }
          }
        }

        .text {
          color: $white !important;
        }

        .readmore.fade-top {
          background: $darkgray !important;
          border-top: 1px solid $middlegray !important;
        }
      }
    }

    .comments {
      background: none !important;

      .more {
        background: $middlegray !important;
        color: $white !important;

        &:hover {
          background: $deepgray !important;
          color: $white !important;
        }
      }
    }

    .record-info {
      .game-text {
        border: none !important;
      }

      .stats {
        .stats-col {
          * {
            tr,
            td,
            th {
              border: 1px solid $middlegray !important;
            }
          }
        }
      }
    }
  }

  // Profile move to top of the page wide button
  .scroll-to-top {
    background-color: $deepgray !important;
    color: $white !important;

    &:hover {
      background-color: $deepgray !important;
      opacity: 0.8 !important;
    }
  }

  // Profile navigation menu
  .sidebar {
    .profile-nav {
      margin-bottom: 0 !important;

      li {
        a {
          color: $white !important;
          background: $deepgray !important;

          .icon-icomoon {
            color: $white !important;
          }

          &:hover {
            background: $black !important;
          }
        }

        &.active {
          a {
            background: $blue !important;

            .icon-icomoon {
              color: $deepgray !important;
            }

            .badge {
              background: $darkgray !important;
              color: $blue !important;
            }
          }
        }
      }

      span {
        color: $white !important;
      }

      > li {
        &.active {
          > a {
            background: $blue !important;

            &:hover,
            &:focus {
              background: $blue !important;
            }
          }
        }

        > a {
          &:hover,
          &:focus {
            text-decoration: none !important;
            background-color: $deepgray !important;
          }
        }
      }

      &:nth-child(1) {
        position: fixed !important;
        width: 165px !important;
      }

      &:nth-child(2) {
        position: fixed !important;
        width: 165px !important;
        top: 429px !important;
      }

      &:nth-child(3) {
        position: fixed !important;
        width: 165px !important;
        top: 507px !important;
      }
    }
  }

  // Blocked user
  .profile-hidden {
    color: $blue !important;
    background: $darkgray !important;
    border: 1px solid $blue !important;

    .icon-icomoon {
      color: $blue !important;
    }
  }

  // Profile root filter && sort links color
  .options-block {
    ul {
      li {
        span {
          color: $white !important;

          &:hover {
            color: $blue !important;
          }
        }

        &:hover {
          color: white !important;
        }
      }
    }

    .checkbox {
      .selected::before {
        color: $white !important;
      }
    }
  }

  // Statistics wheel main container bg color
  rect {
    fill: $darkgray !important;
  }

  .options {
    .date-select {
      .btn {
        .icon-icomoon {
          color: $deepgray !important;
        }
      }
    }
  }
}

// Profile journal options position fixed
.col-xs-3 {
  .options {
    position: fixed !important;
    width: 170px !important;
    top: 193px !important;
  }
}

// PROFILE FRIENDS
.profile-friends {
  .friends-list {
    ul.users {
      > li {
        background: none !important;
        border-bottom: 1px solid $middlegray !important;

        &:hover {
          background: none !important;
          border-bottom: 1px solid $blue !important;
        }
      }
    }

    .name {
      color: $white !important;

      &:hover {
        color: $blue !important;
      }
    }
  }
}

// PROFILE MESSAGES
.profile-messages {
  .name {
    color: $blue !important;

    &:hover {
      color: $lightblue !important;
    }
  }

  .dialog {
    border: 1px solid $middlegray !important;
  }

  .message.unread {
    background-color: $deepgray !important;
  }

  .messages-contacts {
    .message.unread {
      background-color: $blue !important;

      .text {
        color: $deepgray !important;
      }
    }

    .contacts-content {
      .contact.unread {
        background-color: $deepgray !important;
        border-bottom: 1px solid $blue !important;
      }
    }

    .contact:hover {
      background: $deepgray !important;
    }
  }

  .deleted {
    border: 1px solid $blue !important;
    background-color: $deepgray !important;
  }

  .dialog-header {
    background: $darkgray !important;
    border-bottom: 1px solid $middlegray !important;

    .controls {
      .btn {
        color: $deepgray !important;
      }
    }
  }

  .dialog-write {
    border-top: 1px solid $middlegray !important;
    background: $darkgray !important;
  }
}

// Smiles && preview icons change
.icon-smiles::before {
  content: "\e60e" !important;
}

.preview-change::before {
  content: "\e093" !important;
}

// PROFILE ACHIEVEMENTS
.profile-achieves {
  img {
    opacity: 1 !important;
  }

  .list {
    .group {
      .item {
        .achieve {
          .achieve-content {
            .levels {
              border-top: 1px solid $middlegray !important;
              border-left: 1px solid $middlegray !important;
              border-right: 1px solid $middlegray !important;
              color: $white !important;
              opacity: 1 !important;

              &:hover {
                border-top: 1px solid $blue !important;
                border-left: 1px solid $blue !important;
                border-right: 1px solid $blue !important;
                background: none !important;
              }

              .level {
                .icon-icomoon.done {
                  color: $blue !important;
                  box-shadow: none !important;
                  text-shadow: none !important;
                }
              }
            }
          }
        }
      }

      .more-achieves {
        background: none !important;
      }
    }
  }

  .options {
    .btn-group {
      .btn {
        .toggle-text {
          b {
            color: $blue !important;
          }
        }
      }
    }
  }
}

.btn-group {
  .dropdown-menu {
    a {
      color: $white !important;
    }
  }
}

.popover * {
  background: $darkgray !important;
  border: none !important;
}

.achieve {
  &:not(.reduced) {
    border: 1px solid $middlegray;
    background: none !important;
  }

  .achieve-content {
    .title {
      color: $white !important;
    }

    .description {
      color: $white !important;
    }
  }

  .achieve-icon {
    background: $darkgray !important;
    border: 1px solid $darkgray !important;

    &:hover {
      background: $darkgray !important;
      border: 1px solid $blue !important;
    }
  }
}

// PROFILE STATISTICS
.profile-stats {
  .profile-stats-details {
    .top-stats {
      .best-speed {
        background-color: $blue !important;

        .title {
          color: $darkgray !important;
        }

        .content {
          background-color: $darkgray !important;
          border-bottom: 1px solid $white !important;
          border-top: 1px solid $deepgray !important;
          color: $blue !important;
        }
      }

      .counter {
        .value {
          .book-progress {
            .item {
              background-color: $blue !important;
            }
          }
        }
      }
    }

    .charts {
      background: $darkgray !important;

      .chart-graph {
        text:nth-child(1) {
          stroke: $blue !important;
          fill: none !important;
          stroke-width: 1px !important;
        }

        text:nth-child(2) {
          fill: none !important;
        }
      }
    }
  }

  .profile-stats-overview {
    .chart-table {
      tr {
        td {
          color: $blue !important;
        }
      }
    }

    .recent {
      background-color: $darkgray !important;
      border: 1px solid $middlegray !important;
    }
  }

  .recent {
    a {
      color: $white !important;
      font-weight: lighter !important;

      &:hover {
        color: $blue !important;
        font-weight: lighter !important;
      }
    }

    li:hover {
      background: none !important;
      color: $blue !important;
    }
  }

  .chart-table {
    color: $darkgray !important;
  }

  .counter {
    background-color: $blue !important;

    .title {
      color: $darkgray !important;
    }

    .value {
      border-bottom: 1px solid $lightblue !important;
      border-top: 1px solid $deepgray !important;
      color: $blue !important;
      background-color: $darkgray !important;
    }
  }
}

.chart-graph {
  div {
    border: none !important;
    background: $darkgray !important;
  }
}

.dlg-profile-stats-book-parts {
  .parts {
    .col-xs-1 {
      .item {
        background: $darkgray !important;

        &:hover {
          background: $blue !important;
          color: $deepgray !important;
        }

        &.even {
          background-color: $deepgray !important;

          &:hover {
            background-color: $blue !important;
            color: $deepgray !important;
          }
        }
      }
      border-right: 1px solid $middlegray !important;
    }
  }
}

.badge {
  border: 1px solid $darkgray !important;
  background: $blue !important;
  color: $deepgray !important;
}

.stats-empty {
  background: $darkgray !important;

  .icon-icomoon {
    color: $blue !important;
  }
}

#totalGamesCounter {
  background-color: $blue !important;

  .value {
    color: $blue !important;
    background-color: $darkgray !important;

    .icon-icomoon {
      color: $blue !important;
    }
  }
}

.dropdown-menu {
  overflow: hidden !important;
}

.col-xs-5 {
  input {
    border: 1px solid $middlegray !important;
  }
}

.col-xs-7 {
  border-left: 1px solid $middlegray !important;

  a {
    border: none !important;
  }
}

.google-visualization-table-tr-even {
  background: $darkgray !important;
}

.google-visualization-table-tr-odd {
  background: $deepgray !important;
}

.google-visualization-table-table {
  th,
  td {
    border: none !important;
  }
}

.google-visualization-table-tr-head {
  background-color: $blue !important;
}

.google-visualization-table {
  .gradient {
    background: none !important;
  }
}

.google-visualization-table-sortind {
  color: $darkgray !important;
}

div.btn-group {
  .dropdown-toggle {
    b,
    span {
      color: $deepgray !important;
    }

    .toggle-text {
      color: $white !important;
    }
  }
}

// PROFILE JOURNAL
.profile-journal-post-dlg {
  .journal {
    .comments {
      .post {
        border: none !important;
      }
    }
  }
}

.hidden-mark {
  > span {
    color: $deepgray !important;
  }
}

.dlg-smilies-insert {
  background: $darkgray !important;
  border: 1px solid $blue !important;

  img {
    filter: invert(10%) hue-rotate(330deg) !important;
  }
}

// PROFILE CAR
.dlg-profile-car-aero {
  .aero-canvas {
    border: none !important;

    .content {
      background: $middlegray !important;
    }
  }

  .warning {
    background: rgba(225, 20, 0, 0.5) !important;
    color: $white !important;
  }
}

.literally {
  .toolbar {
    background: $deepgray !important;

    .toolbar-row {
      border: none !important;
    }
  }

  .button {
    &.danger {
      background: rgba(225, 20, 0, 0.5) !important;
    }

    border: none !important;
    color: $white !important;
    background: $darkgray !important;

    &.active,
    &:hover {
      border: none !important;
      color: $darkgray !important;
      background: $blue !important;
    }
  }
}

#file-input:hover {
  cursor: pointer !important;
}

.profile-car {
  .my-car {
    background: $darkgray !important;
    border: 1px solid $middlegray !important;

    .car {
      background: $darkgray !important;
    }

    .title {
      color: $orange !important;
      border-bottom: 1px solid $middlegray !important;
    }
  }

  .shop {
    .no-tuning {
      color: $white !important;
    }
  }

  .car-block {
    .name {
      color: $blue !important;
    }
  }

  .tuning-category {
    .tuning-item {
      border: 1px solid transparent !important;

      &.active {
        border: 1px solid $blue !important;
      }
    }
  }
}

// Profile settings change avatar
.dlg-profile-prefs-change-avatar {
  .avatar-preview {
    .preview {
      border: none !important;
    }
  }
}

// Profile prefs block
#profile-prefs {
  .prefs-block {
    background: $darkgray !important;
  }
}

// Remove border around view color
.btn > .view-color {
  border: none !important;
}

// VOCS
.dlg-profile-vocs {
  .vocs {
    th,
    td {
      border-bottom: 1px solid $middlegray !important;
      background: $darkgray !important;
    }

    a {
      color: $blue !important;

      span {
        color: $blue !important;

        &:hover {
          color: $lightblue !important;
        }
      }
    }
  }
}

a.gametype-voc {
  color: $blue !important;

  &:hover {
    color: $lightblue !important;
  }
}

#toplist {
  ul.mode {
    li.gametype-voc {
      img {
        filter: brightness(2) !important;
      }
    }

    li.yeargroup {
      margin-left: 0px !important;
      font-weight: normal !important;
      text-align: center !important;
    }
  }
}

.vocview-block {
  .words {
    tr.even {
      td {
        background-color: $deepgray !important;
      }
    }

    tr {
      td.num {
        color: $blue !important;
      }
    }
  }
}

.comments {
  .info {
    a.name {
      color: $blue !important;
    }
  }
}

#profile-block {
  .user-title {
    margin: 10px 0 !important;

    .btn_fav {
      filter: invert(100%) !important;
    }

    .remove {
      color: $darkgray !important;
      background: none !important;
      background-color: $red !important;
      padding-left: 0 !important;
      border: 1px solid transparent !important;
      transition: all 0.1s !important;

      &:hover {
        background-color: $darkgray !important;
        background: none !important;
        border: 1px solid $white !important;
        color: $white !important;
        transition: all 0.1s !important;
      }
    }
  }

  .menu {
    > dd:nth-child(1) {
      margin: 0 !important;
    }
  }

  .right-col {
    top: 200px !important;
    right: 0 !important;
    width: 500px !important;
    position: absolute !important;
    padding: 0 !important;

    .comments {
      background: $darkgray;
      border: 1px solid $middlegray !important;
    }
  }
}

.user-title {
  > dd:nth-child(1) {
    margin: 0 !important;
    display: flex !important;
    justify-content: center !important;
  }
}

.dashed {
  border-bottom: none !important;

  &:hover {
    color: $lightblue !important;
  }
}

// Keyframes for animations
@keyframes blockAnimation {
  0% {
    background-color: $blue;
  }
  50% {
    background-color: $orange;
  }
  100% {
    background-color: $blue;
  }
}

@keyframes textAnimation {
  0% {
    color: $blue;
  }
  50% {
    color: $orange;
  }
  100% {
    color: $blue;
  }
}

// Mixin for block animation
@mixin blockAnimation($delay) {
  animation: blockAnimation 3s linear $delay infinite;
}

// Mixin for text animation
@mixin textAnimation($delay) {
  animation: textAnimation 3s linear $delay infinite;
}

// Apply animations to stats blocks with incremental delays
#profile-index .stats .content .stats-block {
  @for $i from 1 through 8 {
    &:nth-child(#{$i}) {
      @include blockAnimation(#{0.1 + ($i - 1) * 0.2}s);
      .stats-content {
        .icon-icomoon,
        span {
          @include textAnimation(#{0.1 + ($i - 1) * 0.2}s);
        }
      }
    }
  }
}
