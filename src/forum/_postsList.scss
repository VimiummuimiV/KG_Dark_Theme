@import "../mixins";
@import "../animations";

// Mixin for post action button styling
@mixin post-action-button($bg-color) {
  span {
    color: $bg-color !important;
    font-size: 0 !important;

    a {
      font-size: 12px !important;
      font-weight: bold !important;
      text-decoration: none !important;
      position: absolute !important;
      right: 0 !important;
      top: 0 !important;
      width: 100px !important;
      height: 100% !important;
      color: $black !important;
      @include flex-center(center, center);
      background: darken($bg-color, 10%) !important;
      border-radius: 0 5px 5px 0 !important;
      transition: background 0.1s ease-in-out;

      &:hover {
        background: $bg-color !important;
      }
    }
  }
}

#content {
  #posts-list {
    font-family: "Montserrat", Verdana, Geneva, Tahoma, sans-serif !important;

    form {
      table {
        tr,
        th,
        td {
          border: none !important;
        }

        .posth {
          background: transparent !important;
          height: 30px !important;
          border-radius: 5px !important;

          th {
            position: relative !important;
          }

          td {
            border-radius: 0 5px 5px 0 !important;
            background: $black !important;
          }
          
          // Default styling for all users (regular users)
          td {
            position: relative !important;
          }

          @include post-action-button($blue);
          
          // Admin users override
          &.admin {
            .user {
              color: $black !important;
              background: darken($green, 10%) !important;

              &:hover {
                background: $green !important;
              }
            }

            td {
              background: darken($green, 38%) !important;
            }

            @include post-action-button($green);
          }
          
          .user {
            text-decoration: none !important;
            @include element-full-size();
            @include flex-center(center, center);
            transition: background 0.1s ease-in-out;
            color: $black !important;
            background: darken($blue, 10%) !important;
            border-radius: 5px 0 0 5px !important;

            &:hover {
              background: $blue !important;
            }
          }
        }

        .post {
          .post-container {
            .text {

              img.linked-image {
                animation: fadeIn 0.5s ease-in-out;
                filter: brightness(0.5) !important;
                transition: filter 0.1s ease-in-out;

                &:hover {
                  filter: brightness(1) !important;
                }
              }
            }
          }
        }
      }
    }
  }
}