@import "./data/variables";
@import "mixins";

#content {
  /* GAMELIST CREATE SECTION */
  .gamelist-create {
    @media (max-width: 800px) {
      .r {
        .rc {
          padding: 10px 5px 40px 5px !important;

          form {
            position: relative !important;

            #savedModes {
              position: absolute !important;
              margin: 0 !important;
              bottom: -40px !important;
            }
          }
        }
      } 
    }

    margin-bottom: 0 !important;
    background: none !important;

    .r {
      .rc {
        padding: 10px 0 !important;

        form {
          display: inline-flex;
          font-size: 0;

          #savedModes {
            margin-right: 10px !important;
          }

          input#create_game,
          input#delete {
            color: transparent !important;
            border: none !important;
            background-color: $gray !important;
            padding: 0 !important;
            display: inline-flex !important;
            width: 35px !important;
            height: 35px !important;
            border-radius: 50% !important;
            cursor: pointer !important;
            transition: background-color 0.15s !important;
            background-repeat: no-repeat !important;
            background-position: center !important;
            margin-right: 5px !important;
          }

          input#create_game {
            background-image: $add-game-icon !important;

            &:hover {
              background-color: $green !important;
            }
          }

          input#delete {
            background-image: $remove-game-icon !important;

            &:hover {
              background-color: $red !important;
            }
          }
        }
      }
    }
  }

  /* GAMELIST SECTION */
  #gamelist {
    // Animation control slider (static or smooth)
    .tl {
      display: none !important;
    }

    .item {
      @media (max-width: 800px) {
        padding: 10px 0 !important;
        
        table {
          display: grid !important;
          grid-template-areas: 
            "enter sign status"
            "players players players" !important;
          grid-template-columns: 63px 60px fit-content !important;
          gap: 10px !important;
          width: fit-content !important;
          max-width: 100% !important;
          align-items: center !important;
        }
        
        table tbody, 
        table tr {
          display: contents !important;
        }
        
        td.enter {
          margin: 0 !important;
          grid-area: enter !important;
          width: 63px !important;
          max-width: 63px !important;
          min-width: 63px !important;
          height: 100% !important;
          @include flex-layout();
        }
        
        td.sign {
          margin: 0 !important;
          grid-area: sign !important;
          width: 60px !important;
          max-width: 60px !important;
          min-width: 60px !important;
          height: 100% !important;
          @include flex-layout();
        }
        
        td.status {
          margin: 0 !important;
          grid-area: status !important;
          width: fit-content !important;
          max-width: 200px !important;
          overflow-wrap: break-word !important;
          word-wrap: break-word !important;
          height: 100% !important;
          @include flex-layout();
        }
        
        td.players {
          grid-area: players !important;
          padding: 10px 0 0 0 !important;
          width: 100% !important;
          overflow-wrap: break-word !important;
          word-wrap: break-word !important;
          
          // Handle nested tables in players section (normal and reduced) display
          table {
            display: flex !important;
            flex-wrap: wrap !important;
            width: 100% !important;
            gap: 5px !important;
          }
          
          .name {
            flex: 0 0 auto !important;
            white-space: nowrap !important;
          }
        }
      }

      td {
        border: none !important;
      }

      td.enter,
      td.sign,
      td.status,
      td.players {
        padding: 0 10px 0 0 !important;
      }

      td.enter {
        .enter {
          margin: 0 !important;
        }

        a {
          display: block !important;
          box-sizing: border-box !important;
          width: 63px !important;
          height: 63px !important;
          background: $race !important;
          background-size: contain !important;
          padding-left: 63px !important;
          filter: brightness(0.8) !important;

          &:hover {
            display: block !important;
            box-sizing: border-box !important;
            width: 63px !important;
            height: 63px !important;
            padding-left: 63px !important;
          }

          &.competition {
            display: block !important;
            box-sizing: border-box !important;
            width: 63px !important;
            height: 63px !important;
            background: $competition !important;
            background-size: contain !important;
            padding-left: 63px !important;

            &:hover {
              display: block !important;
              box-sizing: border-box !important;
              width: 63px !important;
              height: 63px !important;
              padding-left: 63px !important;
              filter: brightness(0.8) !important;
            }
          }
        }
      }

      td.sign {
        .gametype-sign {
          margin: 0 !important;
        }
      }
    }

    .remain span {
      color: $lightblue !important;
      background-position: 0 -25px !important;
    }

    .custominfo {
      .competition {
        color: $yellow !important;
      }

      .cost {
        color: $orange !important;
      }
    }

    .players {
      .name {
        min-height: 24px !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;

        i {
          width: 24px !important;
          height: 24px !important;
          border-radius: 2px !important;
          background-color: transparent !important;
        }

        a {
          border: none !important;
          padding-left: 8px !important;
        }
      }

      .numbers {
        top: 0 !important;
      }
    }
  }

  /* GAMELIST ACTIVE SECTION */
  #gamelist-active {
    @media (max-width: 550px) {
      display: none !important;
    }

    background: $darkgray !important;
    border-top: 1px solid $gray !important;
    margin-top: 20px !important;

    button.hide-btn {
      top: 0 !important;
      right: 0 !important;
      background: $gray !important;
      color: $black !important;
      transition: all 0.15s ease-out !important;

      &:hover {
        background: $blue !important;
      }

      .glyphicon {
        display: none !important;
      }
    }

    &.hide-block {
      background-color: $darkgray !important;
      border: none !important;
      margin: 0 !important;

      h3,
      h4 {
        color: $gray !important;
      }

      button {
        background: $gray !important;
        color: $black !important;
        transition: all 0.15s ease-out !important;

        &:hover {
          background: $blue !important;
        }

        .glyphicon {
          display: none !important;
        }
      }
    }
  }
}